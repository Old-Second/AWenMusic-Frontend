{"version":3,"sources":["utils/format.ts","network/login/index.tsx","components/content/msgItem/style.tsx","components/content/msgItem/index.tsx","utils/holder.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/common/tabControl/style.tsx","components/common/tabControl/index.tsx","views/myMusic/childCpn/mySubscribe/childCpn/album/style.tsx","views/myMusic/childCpn/mySubscribe/childCpn/album/index.tsx","views/myMusic/childCpn/mySubscribe/childCpn/artist/style.tsx","views/myMusic/childCpn/mySubscribe/childCpn/artist/index.tsx","views/myMusic/childCpn/mySubscribe/index.tsx","network/request.tsx","views/Login/store/actionCreators.tsx","network/user/index.ts"],"names":["formatTime","dateS","fmt","date","Date","test","replace","RegExp","$1","getFullYear","substr","length","o","getMonth","getDate","getHours","getMinutes","getSeconds","k","str","padLeftZero","console","log","login","userName","password","request","url","method","data","register","MsgItemWrapper","styled","div","props","widthProps","parseInt","scale","MsgItem","img","state","playCount","isShowPlayCount","itemWidth","dt","cover","onClick","userRouter","className","e","memo","holder","count","line","s","i","Math","ceil","push","_objectWithoutProperties","source","excluded","key","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","TabControlWrapper","TabControl","list","contentName","propsName","useState","currentIndex","setCurrentIndex","map","item","index","liClick","AlbumWrapper","Album","album","setAlbum","setCount","useEffect","getUserSub","then","albumRouter","history","pathname","id","toString","padStart","src","coverUrl","alt","name","publishTime","defaultCurrent","total","pageSize","onChange","val","changePage","image","Empty","PRESENTED_IMAGE_SIMPLE","description","withRouter","ArtistWrapper","Artist","artist","setArtist","avatarUrl","artistRouter","MySubscribe","style","padding","albums","artists","config","instance","axios","create","baseURL","HOST_NAME","timeout","interceptors","use","err","response","res","status","message","store","dispatch","logoutAction","changeUserMsg","token","userId","createTime","updateTime","manage","auth","createBrowserHistory","type","userMsg","changeLoginType","loginType","changeUserDetailAction","getUserDetail","love","follow","window","localStorage","setItem","JSON","stringify","userDetail","loginAction","a","warning","content","fontSize","marginTop","clear","subscriber","thumb","songId","setUserFavorite","headers","authorization","getState","getIn","getUserFavorite","offset","limit","params","cancelFavorite","uploadAvatar","formData"],"mappings":"6HACO,SAASA,EAAWC,EAAwBC,GACjD,IAAIC,EAAa,IAAIC,KAAKH,GACtB,OAAOI,KAAKH,KACdA,EAAMA,EAAII,QAAQC,OAAOC,IAAKL,EAAKM,cAAgB,IAAIC,OAAO,EAAIH,OAAOC,GAAGG,UAE9E,IAAIC,EAAI,CACN,KAAMT,EAAKU,WAAa,EACxB,KAAMV,EAAKW,UACX,KAAMX,EAAKY,WACX,KAAMZ,EAAKa,aACX,KAAMb,EAAKc,cAEb,IAAK,IAAIC,KAAKN,EACZ,GAAI,IAAIL,OAAJ,WAAeW,EAAf,MAAqBb,KAAKH,GAAM,CAElC,IAAIiB,EAAMP,EAAEM,GAAK,GACjBhB,EAAMA,EAAII,QAAQC,OAAOC,GAAyB,IAArBD,OAAOC,GAAGG,OAAeQ,EAAMC,EAAYD,IAG5E,OAAOjB,GAAO,GAGhB,SAASkB,EAAYD,GACnB,OAAQ,KAAOA,GAAKT,OAAOS,EAAIR,QAxBjC,kCA0BAU,QAAQC,IAAItB,EAAW,OAAO,W,iCC1B9B,gFAEO,SAASuB,EAAMC,EAAkBC,GACtC,OAAOC,YAAQ,CACbC,IAAK,SACLC,OAAQ,OACRC,KAAM,CACJL,WACAC,cAKC,SAASK,EAASN,EAAkBC,GACzC,OAAOC,YAAQ,CACbC,IAAK,YACLC,OAAQ,OACRC,KAAM,CACJL,WACAC,gB,sDCfOM,E,MAAsBC,EAAOC,IAAV,2yBAErB,SAACC,GAAD,OAAYA,EAAcC,cAExB,SAACD,GAAD,OAAYA,EAAcC,cACzB,SAACD,GAAD,OAAWE,SAAUF,EAAcC,YAAeD,EAAcG,MAAQ,Q,gBCOhFC,EAAsB,SAAC,GAWR,IAVnBC,EAUkB,EAVlBA,IACAC,EASkB,EATlBA,MACAC,EAQkB,EARlBA,UACAC,EAOkB,EAPlBA,gBACAC,EAMkB,EANlBA,UACAN,EAKkB,EALlBA,MACAO,EAIkB,EAJlBA,GACApB,EAGkB,EAHlBA,SACAqB,EAEkB,EAFlBA,MACAC,EACkB,EADlBA,QAEMC,EAAa,WACbD,GACFA,KAGJ,OACE,eAACf,EAAD,CAAgBI,WAAYQ,EAAWN,MAAOA,EAA9C,UACE,sBAAKW,UAAU,gBAAf,UACGH,EACAN,EACAK,GAAM,qBAAKI,UAAU,KAAf,SAAqBhD,YAAW4C,EAAI,cAE7C,qBAAKI,UAAU,oBAAf,SAAoCR,IACpC,sBAAKQ,UAAU,aAAf,UACGN,GAAmB,mBAAGM,UAAU,qBAAb,eACnBP,KAEFjB,GACC,qBAAKwB,UAAU,YAAYF,QAAS,SAACG,GAAD,OAAOF,KAA3C,SACGvB,QAMI0B,mBAAKZ,I,iCCrDb,SAASa,EAAOC,EAAeC,GAEpC,IADA,IAAIC,EAAc,GACTC,EAAI,EAAGA,EAAIC,KAAKC,KAAKL,EAAQC,GAAQA,EAAOD,EAAOG,IAC1DD,EAAEI,KAAKH,GAET,OAAOD,EALT,mC,6CCCe,SAASK,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKP,EADLQ,ECHS,SAAuCH,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKP,EAFLQ,EAAS,GACTC,EAAaC,OAAOC,KAAKN,GAG7B,IAAKL,EAAI,EAAGA,EAAIS,EAAWrD,OAAQ4C,IACjCO,EAAME,EAAWT,GACbM,EAASM,QAAQL,IAAQ,IAC7BC,EAAOD,GAAOF,EAAOE,IAGvB,OAAOC,EDTM,CAA6BH,EAAQC,GAGlD,GAAII,OAAOG,sBAAuB,CAChC,IAAIC,EAAmBJ,OAAOG,sBAAsBR,GAEpD,IAAKL,EAAI,EAAGA,EAAIc,EAAiB1D,OAAQ4C,IACvCO,EAAMO,EAAiBd,GACnBM,EAASM,QAAQL,IAAQ,GACxBG,OAAOK,UAAUC,qBAAqBC,KAAKZ,EAAQE,KACxDC,EAAOD,GAAOF,EAAOE,IAIzB,OAAOC,E,qBEhBIU,E,MAAoBzC,EAAOC,IAAV,uV,OCOxByC,EAAyB,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,YAAgBC,EAA8B,8BAC5CC,mBAAiB,GAD2B,mBAC7EC,EAD6E,KAC/DC,EAD+D,KAKpF,OACE,eAACP,EAAD,WACE,oBAAIzB,UAAU,OAAd,SACmB,IAAhB2B,EAAKhE,QACJgE,EAAKM,KAAI,SAACC,EAAMC,GACd,OACE,oBAAerC,QAAS,SAACG,GAAD,OATpB,SAACkC,GACfH,EAAgBG,GAQyBC,CAAQD,IAAQnC,UAAW+B,IAAiBI,EAAQ,SAAW,GAA9F,SACE,+BAAOD,KADAA,QAMjB,6BACmB,IAAhBP,EAAKhE,QACJgE,EAAKM,KAAI,SAACC,EAAMC,GACd,OAAOJ,IAAiBI,GAAS,6BAAgBN,EAAUD,EAAYO,KAA7BD,YAMvChC,mBAAKwB,I,yGCjCPW,EAAerD,IAAOC,IAAV,64B,+BCOnBqD,EAAiC,SAACpD,GAAyB,IAAD,EACpC4C,mBAAmB,IADiB,mBACvDS,EADuD,KAChDC,EADgD,OAEpCV,mBAAiB,GAFmB,mBAEvD1B,EAFuD,KAEhDqC,EAFgD,KAG9DC,qBAAU,WACRC,YAAW,QAAS,EAAG,IAAIC,MAAK,SAAC/D,GAC/B2D,EAAS3D,EAAK0D,OACdE,EAAS5D,EAAKuB,YAEf,IACH,IAAMyC,EAAc,SAACX,GACnBhD,EAAM4D,QAAQpC,KAAK,CACjBqC,SAAU,oBACVvD,MAAO,CACLwD,GAAId,EAAKc,OAUf,OACE,eAACX,EAAD,WACE,oBAAIrC,UAAU,aAAd,SACGuC,GACkB,IAAjBA,EAAM5E,QACN4E,EAAMN,KAAI,SAACC,EAAMC,GACf,OACE,+BACE,qBAAKnC,UAAU,QAAf,UAAyBmC,EAAQ,GAAGc,WAAWC,SAAS,EAAG,OAC3D,qBAAKlD,UAAU,gBAAgBF,QAAS,SAACG,GAAD,OAAO4C,EAAYX,IAA3D,SACE,qBAAKiB,IAAKjB,EAAKkB,SAAUC,IAAI,OAE/B,qBAAKrD,UAAU,OAAOF,QAAS,SAACG,GAAD,OAAO4C,EAAYX,IAAlD,SACGA,EAAKoB,OAER,qBAAKtD,UAAU,eAAf,SAA+BhD,YAAWoC,SAAS8C,EAAKqB,aAAc,kBAR/DrB,EAAKc,SAarB5C,EAAQ,IACP,qBAAKJ,UAAU,OAAf,SACE,cAAC,IAAD,CAAYwD,eAAgB,EAAGC,MAAOrD,EAAOsD,SAAU,GAAIC,SAAU,SAACC,GAAD,OA5B1D,SAACA,GAClBjB,YAAW,QAAqB,IAAXiB,EAAM,GAAS,IAAIhB,MAAK,SAAC/D,GAC5C2D,EAAS3D,EAAK0D,OACdE,EAAS5D,EAAKuB,UAyBoEyD,CAAWD,QAG5FrB,GAA0B,IAAjBA,EAAM5E,QACd,qBAAKqC,UAAU,YAAf,SACE,cAAC,IAAD,CAAO8D,MAAOC,IAAMC,uBAAwBC,YAAY,qDAMnDC,cAAWhE,eAAKoC,IC/DlB6B,EAAgBnF,IAAOC,IAAV,wS,kBCQpBmF,EAAkC,SAAClF,GAAyB,IAAD,EACnC4C,mBAAoB,IADe,mBACxDuC,EADwD,KAChDC,EADgD,KAE/D5B,qBAAU,WACRC,YAAW,SAAU,EAAG,IAAIC,MAAK,SAAC/D,GAChCyF,EAAUzF,QAEX,IASH,OACE,eAACsF,EAAD,WACE,qBAAInE,UAAU,aAAd,UACGqE,GACmB,IAAlBA,EAAO1G,QACP0G,EAAOpC,KAAI,SAACC,EAAMC,GAChB,OACE,6BACE,cAAC,IAAD,CACE5C,IAAK,qBAAK4D,IAAKjB,EAAKqC,UAAWlB,IAAKnB,EAAKoB,KAAMxD,QAAS,SAACG,GAAD,OAjBnD,SAACiC,GACpBhD,EAAM4D,QAAQpC,KAAK,CACjBqC,SAAU,qBACVvD,MAAO,CACLwD,GAAId,EAAKc,MAagEwB,CAAatC,MAC5E1C,MAAO,sBAAMQ,UAAU,cAAhB,SAA+BkC,EAAKoB,OAC3C3D,UAAU,QACVD,iBAAiB,EACjBL,MAAO,KANF6C,EAAKc,OAWnBqB,GACClE,YAAOkE,EAAO1G,OAAQ,GAAGsE,KAAI,SAACC,GAC5B,OAAO,kCAASA,SAGrBmC,GAA4B,IAAlBA,EAAO1G,QAChB,qBAAKqC,UAAU,YAAf,SACE,cAAC,IAAD,CAAO8D,MAAOC,IAAMC,uBAAwBC,YAAY,qDAMnDC,cAAWhE,eAAKkE,ICjDzBK,EAAkB,WACtB,OACE,qBAAKC,MAAO,CAAEC,QAAS,QAAvB,SAEI,cAAC,IAAD,CACEhD,KAAM,CAAC,eAAM,gBACbC,YAAa,CAAC,SAAU,WACxBgD,OAAQ,cAAC,EAAD,IACRC,QAAS,cAAC,EAAD,SAMJ3E,yBAAKuE,I,gCCpBpB,qDAsDe/F,IAhDf,SAAoBoG,GAClB,IAAMC,EAA0BC,IAAMC,OAAO,CAC3CC,QAASC,IACTC,QAAS,OA0CX,OAxCAL,EAASM,aAAa3G,QAAQ4G,KAC5B,SAACR,GACC,OAAOA,KAET,SAACS,GAEC,OADAlH,QAAQC,IAAIiH,GACLA,KAGXR,EAASM,aAAaG,SAASF,KAC7B,SAACG,GACC,OAAOA,EAAI5G,QAEb,SAAC0G,GACC,GAAIA,EAAIC,SAAU,CAAC,IAAD,EACSD,EAAIC,SAArBE,EADQ,EACRA,OAAQ7G,EADA,EACAA,KAChB,GAAa,EAAT6G,IAAe,KAAwB,uBAAjB7G,EAAK8G,QAmB7B,MAAMJ,EAjBNK,IAAMC,SAASC,eACfF,IAAMC,SACJE,YAAc,CACZC,MAAO,GACPxH,SAAU,GACVyH,OAAQ,GACR1B,UAAW,GACX2B,WAAY,GACZC,WAAY,GACZC,QAAS,EACTC,MAAO,KAGXC,cAAuB5F,KAAK,CAC1BqC,SAAU,eAQbgC,EAASrG,QAAgBoG,K,iOC5C3B,SAASiB,EAAcN,GAC5B,MAAO,CACLc,KAAM,gBACNC,QAASf,GAIb,SAASgB,EAAgBhB,GACvB,MAAO,CACLc,KAAM,kBACNG,UAAWjB,GA0BR,SAASkB,IACd,OAAO,SAACd,GACNe,cAAgBhE,MAAK,SAAC/D,GAAe,IAC3BgI,EAAiBhI,EAAjBgI,KAAMC,EAAWjI,EAAXiI,OACTD,IACHhI,EAAKgI,KAAO,IAETC,IACHjI,EAAKiI,OAAS,IAEhBC,OAAOC,aAAaC,QAAQ,aAAcC,KAAKC,UAAUtI,IACzDgH,EAhCG,CACLU,KAAM,mBACNa,WA8B4BvI,QAKzB,SAASwI,EAAY7I,EAAkBC,EAAkBS,GAC9D,8CAAO,WAAO2G,GAAP,eAAAyB,EAAA,+EAEqB/I,YAAMC,EAAUC,GAFrC,YAEGI,EAFH,yCAIKgH,EAASE,EAAclH,IAJ5B,uBAKKgH,EAASY,EAAgB,IAL9B,cAMDM,OAAOC,aAAaC,QAAQ,UAAWC,KAAKC,UAAUtI,IACtDkI,OAAOC,aAAaC,QAAQ,YAAa,KAPxC,UAQKpB,EAASc,KARd,QASDzH,EAAM4D,QAAQpC,KAAK,CACjBqC,SAAU,UAVX,0DAcH1E,QAAQC,IAAR,MACAqH,IAAQ4B,QAAQ,CACdC,QAAS,yDACT9C,MAAO,CACL+C,SAAU,OACVC,UAAW,SAnBZ,0DAAP,sDA2BK,SAAS5B,IACd,OAAO,SAACD,GACNkB,OAAOC,aAAaW,QACpB9B,EAASY,EAAgB,IACzBZ,EACEE,EAAc,CACZC,MAAO,GACPxH,SAAU,GACVyH,OAAQ,GACR1B,UAAW,GACX2B,WAAY,GACZC,WAAY,GACZC,QAAS,EACTC,MAAO,KAGXR,EA1EK,CACLU,KAAM,mBACNa,WAAY,CACVnB,OAAQ,GACRzH,SAAU,GACV+F,UAAW,GACXqD,WAAY,GACZC,MAAO,GACPf,OAAQ,CAAC,CAAEb,OAAQ,KACnBY,KAAM,CAAC,CAAEiB,OAAQ,W,gCCtCvB,gOAIO,SAASC,EAAgB/E,GAC9B,OAAOtE,YAAQ,CACbC,IAAK,iBACLC,OAAQ,OACRC,KAAM,CACJmE,MAEFgF,QAAS,CAEPC,cAAerC,IAAMsC,WAAWC,MAAM,CAAC,eAAgB,QAAS,YAAYnC,SAM3E,SAASoC,EAAgBC,EAAgBC,GAC9C,OAAO5J,YAAQ,CACbC,IAAK,iBACL4J,OAAQ,CACNF,SACAC,SAEFN,QAAS,CAEPC,cAAerC,IAAMsC,WAAWC,MAAM,CAAC,eAAgB,QAAS,YAAYnC,SAM3E,SAASwC,EAAeV,GAC7B,OAAOpJ,YAAQ,CACbC,IAAK,wBACLC,OAAQ,OACRC,KAAM,CACJiJ,OAAQA,GAEVE,QAAS,CAEPC,cAAerC,IAAMsC,WAAWC,MAAM,CAAC,eAAgB,QAAS,YAAYnC,SAM3E,SAASrD,EAAWhE,EAAa0J,EAAgBC,GACtD,OAAO5J,YAAQ,CACbC,IAAI,aAAD,OAAeA,GAClB4J,OAAQ,CACNF,SACAC,SAEFN,QAAS,CAEPC,cAAerC,IAAMsC,WAAWC,MAAM,CAAC,eAAgB,QAAS,YAAYnC,SAM3E,SAASY,IACd,OAAOlI,YAAQ,CACbC,IAAK,eACLqJ,QAAS,CAEPC,cAAerC,IAAMsC,WAAWC,MAAM,CAAC,eAAgB,QAAS,YAAYnC,SAM3E,SAASyC,EAAaC,GAC3B,OAAOhK,YAAQ,CACbC,IAAK,sBACLC,OAAQ,OACRoJ,QAAS,CAEPC,cAAerC,IAAMsC,WAAWC,MAAM,CAAC,eAAgB,QAAS,YAAYnC,MAC5E,eAAgB,uBAElBnH,KAAM6J","file":"static/js/22.d73c5ef3.chunk.js","sourcesContent":["/*格式化时间*/\r\nexport function formatTime(dateS: number | string, fmt: string) {\r\n  let date: Date = new Date(dateS);\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n  }\r\n  let o = {\r\n    'M+': date.getMonth() + 1,\r\n    'd+': date.getDate(),\r\n    'h+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds()\r\n  };\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      // @ts-ignore\r\n      let str = o[k] + '';\r\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? str : padLeftZero(str));\r\n    }\r\n  }\r\n  return fmt || '';\r\n}\r\n\r\nfunction padLeftZero(str: string) {\r\n  return ('00' + str).substr(str.length);\r\n}\r\nconsole.log(formatTime(251179,\"mm:ss\"))","import request from '../request';\r\n//登录\r\nexport function login(userName: string, password: string) {\r\n  return request({\r\n    url: '/login',\r\n    method: 'post',\r\n    data: {\r\n      userName,\r\n      password\r\n    }\r\n  });\r\n}\r\n//注册\r\nexport function register(userName: string, password: string) {\r\n  return request({\r\n    url: '/register',\r\n    method: 'post',\r\n    data: {\r\n      userName,\r\n      password\r\n    }\r\n  });\r\n}\r\n","import styled from 'styled-components';\r\n/*interface IProps{\r\n    widthProps:string\r\n}*/\r\nexport const MsgItemWrapper: any = styled.div`\r\n  position: relative;\r\n  width: ${(props) => (props as any).widthProps};\r\n  .img-container {\r\n    width: ${(props) => (props as any).widthProps};\r\n    height: ${(props) => parseInt((props as any).widthProps) * (props as any).scale + 'px'};\r\n    overflow: hidden;\r\n    border-radius: 3px;\r\n    background-color: #fff;\r\n    position: relative;\r\n    img {\r\n      width: 100%;\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 50%;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  }\r\n  .play-count {\r\n    position: absolute;\r\n    left: 100%;\r\n    top: 0;\r\n    color: #fff;\r\n    transform: translate(-110%, 10%);\r\n    white-space: nowrap;\r\n  }\r\n  .dt {\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 100%;\r\n    color: #fff;\r\n    transform: translate(-110%, -110%);\r\n  }\r\n  .state {\r\n    margin: 10px 0 5px 0;\r\n    color: #373737;\r\n  }\r\n  .user-name {\r\n    color: #507daf;\r\n    font-size: 12px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React, { memo, FC, ReactElement } from 'react';\r\n//样式\r\nimport { MsgItemWrapper } from './style';\r\nimport { formatTime } from '../../../utils/format';\r\ninterface IProps {\r\n  img: ReactElement;\r\n  state: ReactElement;\r\n  playCount?: number;\r\n  isShowPlayCount: boolean;\r\n  itemWidth: string;\r\n  scale: number;\r\n  dt?: number;\r\n  userName?: string;\r\n  cover?: ReactElement;\r\n  onClick?: () => void;\r\n}\r\nconst MsgItem: FC<IProps> = ({\r\n  img,\r\n  state,\r\n  playCount,\r\n  isShowPlayCount,\r\n  itemWidth,\r\n  scale,\r\n  dt,\r\n  userName,\r\n  cover,\r\n  onClick\r\n}): ReactElement => {\r\n  const userRouter = () => {\r\n    if (onClick) {\r\n      onClick();\r\n    }\r\n  };\r\n  return (\r\n    <MsgItemWrapper widthProps={itemWidth} scale={scale}>\r\n      <div className=\"img-container\">\r\n        {cover}\r\n        {img}\r\n        {dt && <div className=\"dt\">{formatTime(dt, 'mm:ss')}</div>}\r\n      </div>\r\n      <div className=\"state text-nowrap\">{state}</div>\r\n      <div className=\"play-count\">\r\n        {isShowPlayCount && <i className=\"iconfont icon-play\"> </i>}\r\n        {playCount}\r\n      </div>\r\n      {userName && (\r\n        <div className=\"user-name\" onClick={(e) => userRouter()}>\r\n          {userName}\r\n        </div>\r\n      )}\r\n    </MsgItemWrapper>\r\n  );\r\n};\r\nexport default memo(MsgItem);\r\n","export function holder(count: number, line: number): number[] {\r\n  let s: number[] = [];\r\n  for (let i = 0; i < Math.ceil(count / line) * line - count; i++) {\r\n    s.push(i);\r\n  }\r\n  return s;\r\n}\r\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import styled from 'styled-components';\r\nexport const TabControlWrapper = styled.div`\r\n  .list {\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 0 0 20px 0;\r\n    li {\r\n      margin: 0 20px 0 0;\r\n      cursor: pointer;\r\n      &.active {\r\n        span {\r\n          border-bottom: 3px solid #ec4141;\r\n          padding: 0 0 4px 0;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { memo, FC, ReactElement, useState } from 'react';\r\nimport { TabControlWrapper } from './style';\r\ntype listItem = string;\r\ninterface IProps {\r\n  list: listItem[];\r\n  contentName: listItem[];\r\n  [propsName: string]: any;\r\n}\r\nconst TabControl: FC<IProps> = ({ list, contentName, ...propsName }): ReactElement => {\r\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n  const liClick = (index: number) => {\r\n    setCurrentIndex(index);\r\n  };\r\n  return (\r\n    <TabControlWrapper>\r\n      <ul className=\"list\">\r\n        {list.length !== 0 &&\r\n          list.map((item, index) => {\r\n            return (\r\n              <li key={item} onClick={(e) => liClick(index)} className={currentIndex === index ? 'active' : ''}>\r\n                <span>{item}</span>\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n      <ul>\r\n        {list.length !== 0 &&\r\n          list.map((item, index) => {\r\n            return currentIndex === index && <li key={item}>{propsName[contentName[index]]}</li>;\r\n          })}\r\n      </ul>\r\n    </TabControlWrapper>\r\n  );\r\n};\r\nexport default memo(TabControl);\r\n","import styled from 'styled-components';\r\nexport const AlbumWrapper = styled.div`\r\n  .sub-albums {\r\n    & > li {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 10px 0;\r\n      &:nth-child(odd) {\r\n        background-color: #f9f9f9;\r\n      }\r\n      &:hover {\r\n        background-color: #f0f1f2;\r\n      }\r\n      .index {\r\n        padding: 0 10px;\r\n        color: #cfcfcf;\r\n        font-size: 13px;\r\n      }\r\n      .img-container {\r\n        width: 60px;\r\n        height: 60px;\r\n        border-radius: 5px;\r\n        overflow: hidden;\r\n        margin: 0 20px 0 0;\r\n        cursor: pointer;\r\n        img {\r\n          width: 100%;\r\n        }\r\n      }\r\n      .name {\r\n        width: 20%;\r\n        cursor: pointer;\r\n      }\r\n      .publish-time {\r\n        color: #9b9b9b;\r\n        font-size: 13px;\r\n      }\r\n    }\r\n  }\r\n  .empty-tip {\r\n    padding: 150px 0;\r\n  }\r\n  .page {\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 10px 0 0 0;\r\n  }\r\n`;\r\n","import React, { memo, FC, ReactElement, useEffect, useState } from 'react';\r\nimport { Empty, Pagination } from 'antd';\r\nimport { AlbumWrapper } from './style';\r\nimport { IAlbum } from '../../../../../../constant/album';\r\nimport { formatTime } from '../../../../../../utils/format';\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\r\nimport { getUserSub } from '../../../../../../network/user';\r\n\r\nconst Album: FC<RouteComponentProps> = (props): ReactElement => {\r\n  const [album, setAlbum] = useState<IAlbum[]>([]);\r\n  const [count, setCount] = useState<number>(0);\r\n  useEffect(() => {\r\n    getUserSub('album', 0, 10).then((data: any) => {\r\n      setAlbum(data.album);\r\n      setCount(data.count);\r\n    });\r\n  }, []);\r\n  const albumRouter = (item: IAlbum) => {\r\n    props.history.push({\r\n      pathname: '/Home/albumDetail',\r\n      state: {\r\n        id: item.id\r\n      }\r\n    });\r\n  };\r\n  const changePage = (val: number) => {\r\n    getUserSub('album', (val - 1) * 10, 10).then((data: any) => {\r\n      setAlbum(data.album);\r\n      setCount(data.count);\r\n    });\r\n  };\r\n  return (\r\n    <AlbumWrapper>\r\n      <ul className=\"sub-albums\">\r\n        {album &&\r\n          album.length !== 0 &&\r\n          album.map((item, index) => {\r\n            return (\r\n              <li key={item.id}>\r\n                <div className=\"index\">{(index + 1).toString().padStart(2, '0')}</div>\r\n                <div className=\"img-container\" onClick={(e) => albumRouter(item)}>\r\n                  <img src={item.coverUrl} alt=\"\" />\r\n                </div>\r\n                <div className=\"name\" onClick={(e) => albumRouter(item)}>\r\n                  {item.name}\r\n                </div>\r\n                <div className=\"publish-time\">{formatTime(parseInt(item.publishTime), 'yyyy-MM-dd')}</div>\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n      {count > 10 && (\r\n        <div className=\"page\">\r\n          <Pagination defaultCurrent={1} total={count} pageSize={10} onChange={(val) => changePage(val)} />\r\n        </div>\r\n      )}\r\n      {album && album.length === 0 && (\r\n        <div className=\"empty-tip\">\r\n          <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"您还未收藏专辑\" />\r\n        </div>\r\n      )}\r\n    </AlbumWrapper>\r\n  );\r\n};\r\nexport default withRouter(memo(Album));\r\n","import styled from 'styled-components';\r\nexport const ArtistWrapper = styled.div`\r\n  .sub-artist {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    & > li {\r\n      padding: 10px 0;\r\n      width: 150px;\r\n      .artist-name {\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  .empty-tip {\r\n    padding: 150px 0;\r\n  }\r\n`;\r\n","import React, { FC, memo, ReactElement, useEffect, useState } from 'react';\r\nimport { ArtistWrapper } from './style';\r\nimport { IArtist } from '../../../../../../constant/artist';\r\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\r\nimport { getUserSub } from '../../../../../../network/user';\r\nimport MsgItem from '../../../../../../components/content/msgItem';\r\nimport { holder } from '../../../../../../utils/holder';\r\nimport { Empty } from 'antd';\r\n\r\nconst Artist: FC<RouteComponentProps> = (props): ReactElement => {\r\n  const [artist, setArtist] = useState<IArtist[]>([]);\r\n  useEffect(() => {\r\n    getUserSub('artist', 0, 30).then((data: any) => {\r\n      setArtist(data);\r\n    });\r\n  }, []);\r\n  const artistRouter = (item: IArtist) => {\r\n    props.history.push({\r\n      pathname: '/Home/artistDetail',\r\n      state: {\r\n        id: item.id\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <ArtistWrapper>\r\n      <ul className=\"sub-artist\">\r\n        {artist &&\r\n          artist.length !== 0 &&\r\n          artist.map((item, index) => {\r\n            return (\r\n              <li key={item.id}>\r\n                <MsgItem\r\n                  img={<img src={item.avatarUrl} alt={item.name} onClick={(e) => artistRouter(item)} />}\r\n                  state={<span className=\"artist-name\">{item.name}</span>}\r\n                  itemWidth=\"150px\"\r\n                  isShowPlayCount={false}\r\n                  scale={1}\r\n                />\r\n              </li>\r\n            );\r\n          })}\r\n        {artist &&\r\n          holder(artist.length, 7).map((item: number) => {\r\n            return <li key={item}> </li>;\r\n          })}\r\n      </ul>\r\n      {artist && artist.length === 0 && (\r\n        <div className=\"empty-tip\">\r\n          <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"您还未收藏歌手\" />\r\n        </div>\r\n      )}\r\n    </ArtistWrapper>\r\n  );\r\n};\r\nexport default withRouter(memo(Artist));\r\n","import React, { memo, FC, ReactElement } from 'react';\n\nimport TabControl from '../../../../components/common/tabControl';\nimport Album from './childCpn/album';\nimport Artist from './childCpn/artist';\n\nconst MySubscribe: FC = (): ReactElement => {\n  return (\n    <div style={{ padding: '20px' }}>\n      {\n        <TabControl\n          list={['专辑', '歌手']}\n          contentName={['albums', 'artists']}\n          albums={<Album />}\n          artists={<Artist />}\n        />\n      }\n    </div>\n  );\n};\nexport default memo(MySubscribe);\n","import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\nimport { HOST_NAME } from '../config';\nimport store from '../store';\nimport { changeUserMsg, logoutAction } from '../views/Login/store/actionCreators';\nimport { createBrowserHistory } from 'history';\n\nfunction request<T>(config: AxiosRequestConfig) {\n  const instance: AxiosInstance = axios.create({\n    baseURL: HOST_NAME,\n    timeout: 15000\n  });\n  instance.interceptors.request.use(\n    (config) => {\n      return config;\n    },\n    (err) => {\n      console.log(err);\n      return err;\n    }\n  );\n  instance.interceptors.response.use(\n    (res) => {\n      return res.data;\n    },\n    (err) => {\n      if (err.response) {\n        const { status, data } = err.response;\n        if (status * 1 === 403 && data.message === '请登录') {\n          // @ts-ignore\n          store.dispatch(logoutAction());\n          store.dispatch(\n            changeUserMsg({\n              token: '',\n              userName: '',\n              userId: '',\n              avatarUrl: '',\n              createTime: '',\n              updateTime: '',\n              manage: -1,\n              auth: -1\n            })\n          );\n          createBrowserHistory().push({\n            pathname: '/Login'\n          });\n        } else {\n          throw err;\n        }\n      }\n    }\n  );\n  return instance.request<any, T>(config);\n}\n\nexport default request;\n","import { message } from 'antd';\nimport { login } from '../../../network/login';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { getUserDetail } from '../../../network/user';\nimport { ILoginUserAction } from './type';\nimport { IUserDetail, IUserMsg } from '../../../constant/store/login';\n\nexport function changeUserMsg(res: IUserMsg): ILoginUserAction {\n  return {\n    type: 'changeUserMsg',\n    userMsg: res\n  };\n}\n\nfunction changeLoginType(res: number): ILoginUserAction {\n  return {\n    type: 'changeLoginType',\n    loginType: res\n  };\n}\n\nfunction changeUserDetail(res: IUserDetail): ILoginUserAction {\n  return {\n    type: 'changeUserDetail',\n    userDetail: res\n  };\n}\n\nfunction deleteUserDetail(): ILoginUserAction {\n  return {\n    type: 'changeUserDetail',\n    userDetail: {\n      userId: '',\n      userName: '',\n      avatarUrl: '',\n      subscriber: [],\n      thumb: [],\n      follow: [{ userId: '' }],\n      love: [{ songId: '' }]\n    }\n  };\n}\n\nexport function changeUserDetailAction() {\n  return (dispatch: any) => {\n    getUserDetail().then((data: any) => {\n      const { love, follow } = data;\n      if (!love) {\n        data.love = [];\n      }\n      if (!follow) {\n        data.follow = [];\n      }\n      window.localStorage.setItem('userDetail', JSON.stringify(data));\n      dispatch(changeUserDetail(data));\n    });\n  };\n}\n\nexport function loginAction(userName: string, password: string, props: RouteComponentProps) {\n  return async (dispatch: any) => {\n    try {\n      const data: any = await login(userName, password);\n      if (data) {\n        await dispatch(changeUserMsg(data));\n        await dispatch(changeLoginType(1));\n        window.localStorage.setItem('userMsg', JSON.stringify(data));\n        window.localStorage.setItem('loginType', '1');\n        await dispatch(changeUserDetailAction());\n        props.history.push({\n          pathname: '/Home'\n        });\n      }\n    } catch (e) {\n      console.log(e);\n      message.warning({\n        content: '用户名或者密码错误',\n        style: {\n          fontSize: '20px',\n          marginTop: '5vh'\n        }\n      });\n    }\n  };\n}\n\n//退出登录\nexport function logoutAction() {\n  return (dispatch: any) => {\n    window.localStorage.clear();\n    dispatch(changeLoginType(0));\n    dispatch(\n      changeUserMsg({\n        token: '',\n        userName: '',\n        userId: '',\n        avatarUrl: '',\n        createTime: '',\n        updateTime: '',\n        manage: -1,\n        auth: -1\n      })\n    );\n    dispatch(deleteUserDetail());\n  };\n}\n","import request from '../request';\nimport store from '../../store/index';\n\n//用户喜欢歌曲\nexport function setUserFavorite(id: string) {\n  return request({\n    url: '/user/favorite',\n    method: 'post',\n    data: {\n      id\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取用户喜欢歌曲\nexport function getUserFavorite(offset: number, limit: number) {\n  return request({\n    url: '/user/favorite',\n    params: {\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//取消用户喜欢\nexport function cancelFavorite(songId: string) {\n  return request({\n    url: '/user/favorite/cancel',\n    method: 'post',\n    data: {\n      songId: songId\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取用户收藏\nexport function getUserSub(url: string, offset: number, limit: number) {\n  return request({\n    url: `/sub/user/${url}`,\n    params: {\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取当前登录用户详情\nexport function getUserDetail() {\n  return request({\n    url: '/user/detail',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//上传用户头像\nexport function uploadAvatar(formData: FormData) {\n  return request({\n    url: '/user/upload/avatar',\n    method: 'post',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token,\n      'Content-Type': 'multipart/form-data'\n    },\n    data: formData\n  });\n}\n"],"sourceRoot":""}