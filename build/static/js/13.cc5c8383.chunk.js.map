{"version":3,"sources":["network/login/index.tsx","../node_modules/rc-util/es/KeyCode.js","network/song/index.ts","utils/getRandom.ts","components/content/playCoin/store/actionCreators.ts","store/playType/actionCreators.ts","utils/verify.ts","utils/formatLyric.ts","../node_modules/rc-util/es/hooks/useMergedState.js","../node_modules/antd/es/_util/motion.js","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/rc-util/es/Dom/addEventListener.js","assets/img/holder/placeholder.png","../node_modules/rc-util/es/Dom/contains.js","../node_modules/rc-util/es/Portal.js","network/toplist/toplist.ts","views/discover/childCpn/toplist/style.tsx","views/discover/childCpn/toplist/index.tsx","network/request.tsx","views/Login/store/actionCreators.tsx","network/user/index.ts"],"names":["login","userName","password","request","url","method","data","register","KeyCode","MAC_ENTER","BACKSPACE","TAB","NUM_CENTER","ENTER","SHIFT","CTRL","ALT","PAUSE","CAPS_LOCK","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","PRINT_SCREEN","INSERT","DELETE","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","QUESTION_MARK","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","META","WIN_KEY_RIGHT","CONTEXT_MENU","NUM_ZERO","NUM_ONE","NUM_TWO","NUM_THREE","NUM_FOUR","NUM_FIVE","NUM_SIX","NUM_SEVEN","NUM_EIGHT","NUM_NINE","NUM_MULTIPLY","NUM_PLUS","NUM_MINUS","NUM_PERIOD","NUM_DIVISION","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NUMLOCK","SEMICOLON","DASH","EQUALS","COMMA","PERIOD","SLASH","APOSTROPHE","SINGLE_QUOTE","OPEN_SQUARE_BRACKET","BACKSLASH","CLOSE_SQUARE_BRACKET","WIN_KEY","MAC_FF_META","WIN_IME","isTextModifyingKeyEvent","e","keyCode","altKey","ctrlKey","metaKey","isCharacterKey","window","navigator","userAgent","indexOf","getRecSong","offset","limit","params","getSongURL","id","getSongDetail","getLyric","addSongPlayCount","downloadSong","name","fetch","HOST_NAME","headers","authorization","store","getState","getIn","token","body","JSON","stringify","then","res","fileStream","streamSaver","createWriteStream","size","get","readableStream","WritableStream","pipeTo","writer","getWriter","reader","getReader","pump","read","done","close","write","value","getRandom","start","end","Math","floor","random","changeSongDetail","document","title","artist","type","songDetail","changeLyric","lyric","changeLyricLine","lyricLine","changeCurrentLyricIndex","index","currentLyricIndex","changeCurrentIndex","currentIndex","changePlayMode","playMode","changeSongDetailAction","dispatch","playlist","flag","findIndex","item","playType","changeSongURLAction","changeSongLyric","newPlaylist","push","length","changeCurrentSongAction","tag","rand","result","jwt","verify","algorithms","mp3Url","console","log","verifyURL","songUrl","lyricArray","lyricExp","lineLyric","split","exec","lyricObj","duration","content","replace","trim","getFormatLyric","useControlledState","defaultStateValue","option","_ref","defaultValue","onChange","postState","_React$useState","React","undefined","_React$useState2","_slicedToArray","innerValue","setInnerValue","mergedValue","firstRenderRef","current","newValue","getTransitionName","rootPrefixCls","motion","transitionName","concat","RightOutlined","props","ref","AntdIcon","_objectSpread","icon","RightOutlinedSvg","displayName","LeftOutlined","LeftOutlinedSvg","addEventListenerWrap","target","eventType","cb","callback","ReactDOM","unstable_batchedUpdates","addEventListener","remove","removeEventListener","contains","root","n","Portal","forwardRef","didUpdate","getContainer","children","containerRef","useRef","useImperativeHandle","initRef","canUseDom","useEffect","_containerRef$current","_containerRef$current2","parentNode","removeChild","createPortal","getOfficial","getToplistDetail","getSimiToplist","addToplistPlayCount","ToplistWrapper","styled","div","Toplist","useState","official","setOfficial","detail","setDetail","useDispatch","promise","map","Promise","all","toplistRouter","history","pathname","state","className","onClick","width","height","src","coverUrl","preview","fallback","placeholder","active","loading","songs","slice","it","diff","catch","playSong","artistRouter","tip","spinning","withRouter","memo","config","instance","axios","create","baseURL","timeout","interceptors","use","err","response","status","message","logoutAction","changeUserMsg","userId","avatarUrl","createTime","updateTime","manage","auth","createBrowserHistory","userMsg","changeLoginType","loginType","changeUserDetailAction","getUserDetail","love","follow","localStorage","setItem","userDetail","loginAction","a","warning","style","fontSize","marginTop","clear","subscriber","thumb","songId","setUserFavorite","getUserFavorite","cancelFavorite","getUserSub","uploadAvatar","formData"],"mappings":"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","file":"static/js/13.cc5c8383.chunk.js","sourcesContent":["import request from '../request';\r\n//登录\r\nexport function login(userName: string, password: string) {\r\n  return request({\r\n    url: '/login',\r\n    method: 'post',\r\n    data: {\r\n      userName,\r\n      password\r\n    }\r\n  });\r\n}\r\n//注册\r\nexport function register(userName: string, password: string) {\r\n  return request({\r\n    url: '/register',\r\n    method: 'post',\r\n    data: {\r\n      userName,\r\n      password\r\n    }\r\n  });\r\n}\r\n","/**\n * @ignore\n * some key-codes definition and utils from closure-library\n * @author yiminghe@gmail.com\n */\nvar KeyCode = {\n  /**\n   * MAC_ENTER\n   */\n  MAC_ENTER: 3,\n\n  /**\n   * BACKSPACE\n   */\n  BACKSPACE: 8,\n\n  /**\n   * TAB\n   */\n  TAB: 9,\n\n  /**\n   * NUMLOCK on FF/Safari Mac\n   */\n  NUM_CENTER: 12,\n\n  /**\n   * ENTER\n   */\n  ENTER: 13,\n\n  /**\n   * SHIFT\n   */\n  SHIFT: 16,\n\n  /**\n   * CTRL\n   */\n  CTRL: 17,\n\n  /**\n   * ALT\n   */\n  ALT: 18,\n\n  /**\n   * PAUSE\n   */\n  PAUSE: 19,\n\n  /**\n   * CAPS_LOCK\n   */\n  CAPS_LOCK: 20,\n\n  /**\n   * ESC\n   */\n  ESC: 27,\n\n  /**\n   * SPACE\n   */\n  SPACE: 32,\n\n  /**\n   * PAGE_UP\n   */\n  PAGE_UP: 33,\n\n  /**\n   * PAGE_DOWN\n   */\n  PAGE_DOWN: 34,\n\n  /**\n   * END\n   */\n  END: 35,\n\n  /**\n   * HOME\n   */\n  HOME: 36,\n\n  /**\n   * LEFT\n   */\n  LEFT: 37,\n\n  /**\n   * UP\n   */\n  UP: 38,\n\n  /**\n   * RIGHT\n   */\n  RIGHT: 39,\n\n  /**\n   * DOWN\n   */\n  DOWN: 40,\n\n  /**\n   * PRINT_SCREEN\n   */\n  PRINT_SCREEN: 44,\n\n  /**\n   * INSERT\n   */\n  INSERT: 45,\n\n  /**\n   * DELETE\n   */\n  DELETE: 46,\n\n  /**\n   * ZERO\n   */\n  ZERO: 48,\n\n  /**\n   * ONE\n   */\n  ONE: 49,\n\n  /**\n   * TWO\n   */\n  TWO: 50,\n\n  /**\n   * THREE\n   */\n  THREE: 51,\n\n  /**\n   * FOUR\n   */\n  FOUR: 52,\n\n  /**\n   * FIVE\n   */\n  FIVE: 53,\n\n  /**\n   * SIX\n   */\n  SIX: 54,\n\n  /**\n   * SEVEN\n   */\n  SEVEN: 55,\n\n  /**\n   * EIGHT\n   */\n  EIGHT: 56,\n\n  /**\n   * NINE\n   */\n  NINE: 57,\n\n  /**\n   * QUESTION_MARK\n   */\n  QUESTION_MARK: 63,\n\n  /**\n   * A\n   */\n  A: 65,\n\n  /**\n   * B\n   */\n  B: 66,\n\n  /**\n   * C\n   */\n  C: 67,\n\n  /**\n   * D\n   */\n  D: 68,\n\n  /**\n   * E\n   */\n  E: 69,\n\n  /**\n   * F\n   */\n  F: 70,\n\n  /**\n   * G\n   */\n  G: 71,\n\n  /**\n   * H\n   */\n  H: 72,\n\n  /**\n   * I\n   */\n  I: 73,\n\n  /**\n   * J\n   */\n  J: 74,\n\n  /**\n   * K\n   */\n  K: 75,\n\n  /**\n   * L\n   */\n  L: 76,\n\n  /**\n   * M\n   */\n  M: 77,\n\n  /**\n   * N\n   */\n  N: 78,\n\n  /**\n   * O\n   */\n  O: 79,\n\n  /**\n   * P\n   */\n  P: 80,\n\n  /**\n   * Q\n   */\n  Q: 81,\n\n  /**\n   * R\n   */\n  R: 82,\n\n  /**\n   * S\n   */\n  S: 83,\n\n  /**\n   * T\n   */\n  T: 84,\n\n  /**\n   * U\n   */\n  U: 85,\n\n  /**\n   * V\n   */\n  V: 86,\n\n  /**\n   * W\n   */\n  W: 87,\n\n  /**\n   * X\n   */\n  X: 88,\n\n  /**\n   * Y\n   */\n  Y: 89,\n\n  /**\n   * Z\n   */\n  Z: 90,\n\n  /**\n   * META\n   */\n  META: 91,\n\n  /**\n   * WIN_KEY_RIGHT\n   */\n  WIN_KEY_RIGHT: 92,\n\n  /**\n   * CONTEXT_MENU\n   */\n  CONTEXT_MENU: 93,\n\n  /**\n   * NUM_ZERO\n   */\n  NUM_ZERO: 96,\n\n  /**\n   * NUM_ONE\n   */\n  NUM_ONE: 97,\n\n  /**\n   * NUM_TWO\n   */\n  NUM_TWO: 98,\n\n  /**\n   * NUM_THREE\n   */\n  NUM_THREE: 99,\n\n  /**\n   * NUM_FOUR\n   */\n  NUM_FOUR: 100,\n\n  /**\n   * NUM_FIVE\n   */\n  NUM_FIVE: 101,\n\n  /**\n   * NUM_SIX\n   */\n  NUM_SIX: 102,\n\n  /**\n   * NUM_SEVEN\n   */\n  NUM_SEVEN: 103,\n\n  /**\n   * NUM_EIGHT\n   */\n  NUM_EIGHT: 104,\n\n  /**\n   * NUM_NINE\n   */\n  NUM_NINE: 105,\n\n  /**\n   * NUM_MULTIPLY\n   */\n  NUM_MULTIPLY: 106,\n\n  /**\n   * NUM_PLUS\n   */\n  NUM_PLUS: 107,\n\n  /**\n   * NUM_MINUS\n   */\n  NUM_MINUS: 109,\n\n  /**\n   * NUM_PERIOD\n   */\n  NUM_PERIOD: 110,\n\n  /**\n   * NUM_DIVISION\n   */\n  NUM_DIVISION: 111,\n\n  /**\n   * F1\n   */\n  F1: 112,\n\n  /**\n   * F2\n   */\n  F2: 113,\n\n  /**\n   * F3\n   */\n  F3: 114,\n\n  /**\n   * F4\n   */\n  F4: 115,\n\n  /**\n   * F5\n   */\n  F5: 116,\n\n  /**\n   * F6\n   */\n  F6: 117,\n\n  /**\n   * F7\n   */\n  F7: 118,\n\n  /**\n   * F8\n   */\n  F8: 119,\n\n  /**\n   * F9\n   */\n  F9: 120,\n\n  /**\n   * F10\n   */\n  F10: 121,\n\n  /**\n   * F11\n   */\n  F11: 122,\n\n  /**\n   * F12\n   */\n  F12: 123,\n\n  /**\n   * NUMLOCK\n   */\n  NUMLOCK: 144,\n\n  /**\n   * SEMICOLON\n   */\n  SEMICOLON: 186,\n\n  /**\n   * DASH\n   */\n  DASH: 189,\n\n  /**\n   * EQUALS\n   */\n  EQUALS: 187,\n\n  /**\n   * COMMA\n   */\n  COMMA: 188,\n\n  /**\n   * PERIOD\n   */\n  PERIOD: 190,\n\n  /**\n   * SLASH\n   */\n  SLASH: 191,\n\n  /**\n   * APOSTROPHE\n   */\n  APOSTROPHE: 192,\n\n  /**\n   * SINGLE_QUOTE\n   */\n  SINGLE_QUOTE: 222,\n\n  /**\n   * OPEN_SQUARE_BRACKET\n   */\n  OPEN_SQUARE_BRACKET: 219,\n\n  /**\n   * BACKSLASH\n   */\n  BACKSLASH: 220,\n\n  /**\n   * CLOSE_SQUARE_BRACKET\n   */\n  CLOSE_SQUARE_BRACKET: 221,\n\n  /**\n   * WIN_KEY\n   */\n  WIN_KEY: 224,\n\n  /**\n   * MAC_FF_META\n   */\n  MAC_FF_META: 224,\n\n  /**\n   * WIN_IME\n   */\n  WIN_IME: 229,\n  // ======================== Function ========================\n\n  /**\n   * whether text and modified key is entered at the same time.\n   */\n  isTextModifyingKeyEvent: function isTextModifyingKeyEvent(e) {\n    var keyCode = e.keyCode;\n\n    if (e.altKey && !e.ctrlKey || e.metaKey || // Function keys don't generate text\n    keyCode >= KeyCode.F1 && keyCode <= KeyCode.F12) {\n      return false;\n    } // The following keys are quite harmless, even in combination with\n    // CTRL, ALT or SHIFT.\n\n\n    switch (keyCode) {\n      case KeyCode.ALT:\n      case KeyCode.CAPS_LOCK:\n      case KeyCode.CONTEXT_MENU:\n      case KeyCode.CTRL:\n      case KeyCode.DOWN:\n      case KeyCode.END:\n      case KeyCode.ESC:\n      case KeyCode.HOME:\n      case KeyCode.INSERT:\n      case KeyCode.LEFT:\n      case KeyCode.MAC_FF_META:\n      case KeyCode.META:\n      case KeyCode.NUMLOCK:\n      case KeyCode.NUM_CENTER:\n      case KeyCode.PAGE_DOWN:\n      case KeyCode.PAGE_UP:\n      case KeyCode.PAUSE:\n      case KeyCode.PRINT_SCREEN:\n      case KeyCode.RIGHT:\n      case KeyCode.SHIFT:\n      case KeyCode.UP:\n      case KeyCode.WIN_KEY:\n      case KeyCode.WIN_KEY_RIGHT:\n        return false;\n\n      default:\n        return true;\n    }\n  },\n\n  /**\n   * whether character is entered.\n   */\n  isCharacterKey: function isCharacterKey(keyCode) {\n    if (keyCode >= KeyCode.ZERO && keyCode <= KeyCode.NINE) {\n      return true;\n    }\n\n    if (keyCode >= KeyCode.NUM_ZERO && keyCode <= KeyCode.NUM_MULTIPLY) {\n      return true;\n    }\n\n    if (keyCode >= KeyCode.A && keyCode <= KeyCode.Z) {\n      return true;\n    } // Safari sends zero key code for non-latin characters.\n\n\n    if (window.navigator.userAgent.indexOf('WebKit') !== -1 && keyCode === 0) {\n      return true;\n    }\n\n    switch (keyCode) {\n      case KeyCode.SPACE:\n      case KeyCode.QUESTION_MARK:\n      case KeyCode.NUM_PLUS:\n      case KeyCode.NUM_MINUS:\n      case KeyCode.NUM_PERIOD:\n      case KeyCode.NUM_DIVISION:\n      case KeyCode.SEMICOLON:\n      case KeyCode.DASH:\n      case KeyCode.EQUALS:\n      case KeyCode.COMMA:\n      case KeyCode.PERIOD:\n      case KeyCode.SLASH:\n      case KeyCode.APOSTROPHE:\n      case KeyCode.SINGLE_QUOTE:\n      case KeyCode.OPEN_SQUARE_BRACKET:\n      case KeyCode.BACKSLASH:\n      case KeyCode.CLOSE_SQUARE_BRACKET:\n        return true;\n\n      default:\n        return false;\n    }\n  }\n};\nexport default KeyCode;","import request from '../request';\nimport store from '../../store';\n// @ts-ignore\nimport streamSaver from 'streamsaver';\nimport { HOST_NAME } from '../../config';\n\n//获取推荐歌曲\nexport function getRecSong<T>(offset: number = 0, limit: number = 30) {\n  return request<T>({\n    url: '/song/recommend',\n    params: {\n      offset,\n      limit\n    }\n  });\n}\n\n//获取歌曲播放地址\nexport function getSongURL(id: string) {\n  return request({\n    url: '/song/url',\n    params: {\n      id\n    }\n  });\n}\n\n//获取歌曲详情\nexport function getSongDetail(id: String) {\n  return request({\n    url: '/song/detail',\n    params: {\n      id\n    }\n  });\n}\n\n//获取歌词\nexport function getLyric(id: string) {\n  return request({\n    url: '/song/lyric',\n    params: {\n      id\n    }\n  });\n}\n\n//为歌曲添加播放量\nexport function addSongPlayCount(id: string) {\n  return request({\n    url: '/song/playCount',\n    method: 'post',\n    data: {\n      id\n    }\n  });\n}\n\n//下载歌曲\nexport function downloadSong(id: string, name: string) {\n  fetch(`${HOST_NAME}/song/download`, {\n    method: 'post',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ id })\n  }).then((res) => {\n    const fileStream = streamSaver.createWriteStream(name + '.mp3', {\n      size: res.headers.get('content-length')\n    });\n    const readableStream = res.body;\n    // @ts-ignore\n    if (window.WritableStream && readableStream.pipeTo) {\n      // @ts-ignore\n      return readableStream.pipeTo(fileStream).then(() => {});\n    }\n    // @ts-ignore\n    window.writer = fileStream.getWriter();\n    // @ts-ignore\n    const reader = res.body.getReader();\n    // @ts-ignore\n    const pump = () =>\n      reader.read().then((res) =>\n        // @ts-ignore\n        res.done ? window.writer.close() : window.writer.write(res.value).then(pump)\n      );\n    pump();\n  });\n}\n","const getRandom = (start: number, end: number): number => {\r\n  return Math.floor(Math.random() * (end - start + 1)) + start;\r\n};\r\nexport { getRandom };\r\n","import { addSongPlayCount, getLyric, getSongDetail, getSongURL } from '../../../../network/song';\nimport { ISong } from '../../../../constant/song';\nimport { getRandom } from '../../../../utils/getRandom';\nimport { changePlayType } from '../../../../store/playType/actionCreators';\nimport { getFormatLyric } from '../../../../utils/formatLyric';\nimport { verifyURL } from '../../../../utils/verify';\nimport { ISongStore } from '../../../../constant/store/song';\n\nexport function changeSongURL(res: string) {\n  return {\n    type: 'changeSongURL',\n    songUrl: res\n  };\n}\n\nexport function changeSongDetail(res: any) {\n  document.title = `${res.name} - ${res.artist ? res.artist.name : ''} - awen-music`;\n  return {\n    type: 'changeSongDetail',\n    songDetail: res\n  };\n}\n\nexport function changeLyric(res: any) {\n  return {\n    type: 'changeLyric',\n    lyric: res\n  };\n}\n\nexport function changeLyricLine(lyric: string) {\n  return {\n    type: 'changeLyricLine',\n    lyricLine: lyric\n  };\n}\n\nexport function changeCurrentLyricIndex(index: number) {\n  return {\n    type: 'changeCurrentLyricIndex',\n    currentLyricIndex: index\n  };\n}\n\n//添加到播放列表\nfunction changePlaylist(res: ISong[]) {\n  return {\n    type: 'changePlaylist',\n    playlist: res\n  };\n}\n\n//播放列表中歌曲索引\nfunction changeCurrentIndex(res: number) {\n  return {\n    type: 'changeCurrentIndex',\n    currentIndex: res\n  };\n}\n\n//改变播放模式\nexport function changePlayMode(res: number) {\n  return {\n    type: 'changePlayMode',\n    playMode: res\n  };\n}\n\nexport function changeSongDetailAction(id: string) {\n  return (dispatch: any, getState: any) => {\n    const { playlist } = getState().getIn(['songReducer', 'song']);\n    let flag = playlist.findIndex((item: ISong, index: number) => {\n      return item.id === id;\n    });\n    dispatch(changePlayType(0));\n    //播放列表中不存在\n    if (flag === -1) {\n      getSongDetail(id).then((data: any) => {\n        dispatch(changeSongDetail(data));\n        dispatch(changeSongURLAction(id));\n        dispatch(changeSongLyric(id));\n        const newPlaylist = [...playlist];\n        newPlaylist.push(data);\n        dispatch(changePlaylist(newPlaylist));\n        dispatch(changeCurrentIndex(newPlaylist.length - 1));\n      });\n      addSongPlayCount(id);\n    }\n    //播放列表中存在\n    if (flag !== -1) {\n      dispatch(changeCurrentIndex(flag));\n      dispatch(changeSongDetail(playlist[flag]));\n      dispatch(changeSongURLAction(id));\n      dispatch(changeSongLyric(id));\n      addSongPlayCount(id);\n    }\n  };\n}\n\nexport function changeCurrentSongAction(tag: number) {\n  return (dispatch: any, getState: any) => {\n    const { playMode }: ISongStore = getState().getIn(['songReducer', 'song']);\n    const { playlist }: ISongStore = getState().getIn(['songReducer', 'song']);\n    let { currentIndex }: ISongStore = getState().getIn(['songReducer', 'song']);\n    switch (playMode) {\n      case 1:\n        if (playlist.length !== 1) {\n          let rand = getRandom(0, playlist.length - 1);\n          while (rand === currentIndex) {\n            rand = getRandom(0, playlist.length - 1);\n          }\n          currentIndex = rand;\n        } else if (playlist.length === 1 || playlist.length === 0) {\n          currentIndex = 0;\n        }\n        break;\n      default:\n        currentIndex += tag;\n        if (currentIndex < 0) currentIndex = playlist.length - 1;\n        if (currentIndex > playlist.length - 1) currentIndex = 0;\n    }\n    dispatch(changeCurrentIndex(currentIndex));\n    dispatch(changeSongDetail(playlist[currentIndex]));\n    dispatch(changeSongURLAction(playlist[currentIndex].id));\n  };\n}\n\nexport function changeSongURLAction(id: string) {\n  return (dispatch: any) => {\n    getSongURL(id).then((data: any) => {\n      const { mp3Url } = data;\n      const url = verifyURL(mp3Url);\n      dispatch(changeSongURL(url));\n    });\n  };\n}\n\nexport function changeSongLyric(id: string) {\n  return (dispatch: any) => {\n    getLyric(id).then((data: any) => {\n      if (data.lyric) {\n        dispatch(changeLyric(getFormatLyric(data.lyric)));\n      } else {\n        dispatch(changeLyric('暂无歌词'));\n      }\n    });\n  };\n}\n","export function changePlayType(type: number) {\r\n  return {\r\n    type: 'changePlayType',\r\n    playType: type\r\n  };\r\n}\r\n","import jwt from 'jsonwebtoken';\n\nfunction verifyURL(url: string) {\n  const publicKey: string = `-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDVngqLlcT4xs9q18KCEWGaNYIa\nEMwSIus02VG3XVt8IGwT5Ws8Z1qCULz7jxERDKgSyfUM0EMOQ2KH/Z/ZhhZAld1r\nDCjxhiWLwXx5qYWJo9U862aYMQUjb3J5iqf2Wg+OuHPYkZ9oUvQl01kMRTkEkprf\nkNSJkagkgGMGph5OywIDAQAB\n-----END PUBLIC KEY-----`;\n  const result: any = jwt.verify(url, publicKey, {\n    algorithms: ['RS256']\n  });\n  if ((result && result.url) || (result && result.mp3Url)) {\n    console.log(result.url || result.mp3Url);\n    return result.url || result.mp3Url;\n  } else {\n    return '';\n  }\n}\n\nexport { verifyURL };\n","export const getFormatLyric = (lyric: string) => {\r\n  const lyricArray = [];\r\n  const lyricExp = /\\[(\\d{2}):(\\d{2})\\.(\\d{2,3})\\]/;\r\n  const lineLyric = lyric.split('\\n');\r\n\r\n  for (let item of lineLyric) {\r\n    if (item) {\r\n      const result = lyricExp.exec(item);\r\n      if (!result) continue;\r\n      // @ts-ignore\r\n      const time1: any = result[1] * 60 * 1000;\r\n      // @ts-ignore\r\n      const time2: any = result[2] * 1000;\r\n      // @ts-ignore\r\n      const time3: any = result[3].length === 3 ? result[3] * 1 : result[3] * 10;\r\n      const duration = time1 + time2 + time3;\r\n      const content = item.replace(lyricExp, '').trim();\r\n      const lyricObj = { duration, content };\r\n      lyricArray.push(lyricObj);\r\n    }\r\n  }\r\n  return lyricArray;\r\n};\r\n","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useControlledState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState;\n\n  var _React$useState = React.useState(function () {\n    if (value !== undefined) {\n      return value;\n    }\n\n    if (defaultValue !== undefined) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    }\n\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerValue = _React$useState2[0],\n      setInnerValue = _React$useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n\n  if (postState) {\n    mergedValue = postState(mergedValue);\n  }\n\n  function triggerChange(newValue) {\n    setInnerValue(newValue);\n\n    if (mergedValue !== newValue && onChange) {\n      onChange(newValue, mergedValue);\n    }\n  } // Effect of reset value to `undefined`\n\n\n  var firstRenderRef = React.useRef(true);\n  React.useEffect(function () {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n\n    if (value === undefined) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return [mergedValue, triggerChange];\n}","// ================== Collapse Motion ==================\nvar getCollapsedHeight = function getCollapsedHeight() {\n  return {\n    height: 0,\n    opacity: 0\n  };\n};\n\nvar getRealHeight = function getRealHeight(node) {\n  return {\n    height: node.scrollHeight,\n    opacity: 1\n  };\n};\n\nvar getCurrentHeight = function getCurrentHeight(node) {\n  return {\n    height: node ? node.offsetHeight : 0\n  };\n};\n\nvar skipOpacityTransition = function skipOpacityTransition(_, event) {\n  return (event === null || event === void 0 ? void 0 : event.deadline) === true || event.propertyName === 'height';\n};\n\nvar collapseMotion = {\n  motionName: 'ant-motion-collapse',\n  onAppearStart: getCollapsedHeight,\n  onEnterStart: getCollapsedHeight,\n  onAppearActive: getRealHeight,\n  onEnterActive: getRealHeight,\n  onLeaveStart: getCurrentHeight,\n  onLeaveActive: getCollapsedHeight,\n  onAppearEnd: skipOpacityTransition,\n  onEnterEnd: skipOpacityTransition,\n  onLeaveEnd: skipOpacityTransition,\n  motionDeadline: 500\n};\n\nvar getTransitionName = function getTransitionName(rootPrefixCls, motion, transitionName) {\n  if (transitionName !== undefined) {\n    return transitionName;\n  }\n\n  return \"\".concat(rootPrefixCls, \"-\").concat(motion);\n};\n\nexport { getTransitionName };\nexport default collapseMotion;","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default /*#__PURE__*/React.forwardRef(RightOutlined);","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LeftOutlined = function LeftOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LeftOutlinedSvg\n  }));\n};\n\nLeftOutlined.displayName = 'LeftOutlined';\nexport default /*#__PURE__*/React.forwardRef(LeftOutlined);","import ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n\n  if (target.addEventListener) {\n    target.addEventListener(eventType, callback, option);\n  }\n\n  return {\n    remove: function remove() {\n      if (target.removeEventListener) {\n        target.removeEventListener(eventType, callback);\n      }\n    }\n  };\n}","export default \"data:image/png;base64,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\"","export default function contains(root, n) {\n  if (!root) {\n    return false;\n  }\n\n  return root.contains(n);\n}","import { useRef, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport ReactDOM from 'react-dom';\nimport canUseDom from './Dom/canUseDom';\nvar Portal = forwardRef(function (props, ref) {\n  var didUpdate = props.didUpdate,\n      getContainer = props.getContainer,\n      children = props.children;\n  var containerRef = useRef(); // Ref return nothing, only for wrapper check exist\n\n  useImperativeHandle(ref, function () {\n    return {};\n  }); // Create container in client side with sync to avoid useEffect not get ref\n\n  var initRef = useRef(false);\n\n  if (!initRef.current && canUseDom()) {\n    containerRef.current = getContainer();\n    initRef.current = true;\n  } // [Legacy] Used by `rc-trigger`\n\n\n  useEffect(function () {\n    didUpdate === null || didUpdate === void 0 ? void 0 : didUpdate(props);\n  });\n  useEffect(function () {\n    return function () {\n      var _containerRef$current, _containerRef$current2;\n\n      // [Legacy] This should not be handle by Portal but parent PortalWrapper instead.\n      // Since some component use `Portal` directly, we have to keep the logic here.\n      (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : (_containerRef$current2 = _containerRef$current.parentNode) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.removeChild(containerRef.current);\n    };\n  }, []);\n  return containerRef.current ? ReactDOM.createPortal(children, containerRef.current) : null;\n});\nexport default Portal;","import request from '../request';\r\n//获取官方榜单\r\nexport function getOfficial<T>() {\r\n  return request<T>({\r\n    url: '/toplist/official'\r\n  });\r\n}\r\n//获取其他榜单\r\nexport function getHotToplist() {\r\n  return request({\r\n    url: '/toplist/hot'\r\n  });\r\n}\r\n//获取榜单详情\r\nexport function getToplistDetail<T>(id: string) {\r\n  return request<T>({\r\n    url: '/toplist/detail',\r\n    params: {\r\n      id\r\n    }\r\n  });\r\n}\r\n//导入\r\nexport function exportToplist() {\r\n  return request({\r\n    url: '/toplist/export',\r\n    method: 'post'\r\n  });\r\n}\r\n//获取相关榜单\r\nexport function getSimiToplist() {\r\n  return request({\r\n    url: '/toplist/simi'\r\n  });\r\n}\r\n//添加排行榜播放量\r\nexport function addToplistPlayCount(id:string){\r\n  return request({\r\n    url:\"/toplist/playCount/add\",\r\n    method:\"post\",\r\n    data:{\r\n      id\r\n    },\r\n  })\r\n}\r\n","import styled from 'styled-components';\n\nexport const ToplistWrapper = styled.div`\n  margin: 0px auto;\n  padding: 20px 15px;\n\n  .toplist {\n    display: flex;\n    width: 100%;\n    flex-wrap: wrap;\n\n    & > li {\n      width: 50%;\n      margin: 0 0 25px 0;\n      display: flex;\n\n      .img-container {\n        width: 170px;\n        height: 170px;\n        overflow: hidden;\n\n        img {\n          width: 100%;\n          border-radius: 5px;\n        }\n      }\n\n      .toplist-song-list {\n        margin: 0 0 0 20px;\n        width: 60%;\n\n        & > li {\n          padding: 7px 10px;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n\n          &:nth-child(odd) {\n            background-color: #f9f9f9;\n          }\n\n          &:nth-child(-n + 3) {\n            .song-name-container {\n              .index {\n                color: #ec4141;\n              }\n            }\n          }\n\n          .song-name-container {\n            display: flex;\n            align-items: center;\n\n            .index {\n              font-size: 12px;\n              color: #9b9b9b;\n              padding: 0 10px;\n            }\n          }\n\n          .up {\n            display: flex;\n            align-items: center;\n            min-width: 50px;\n\n            & > span {\n              color: #9b9b9b;\n              font-size: 12px;\n            }\n\n            i {\n              color: #ec4141;\n            }\n          }\n\n          .song-name-vip-mv {\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n\n            .song-name {\n              margin: 0 5px 0 0;\n              max-width: 130px;\n              font-size: 13px;\n              color: #363636;\n\n              &.top {\n                max-width: 100px;\n              }\n            }\n          }\n\n          .artist-name {\n            font-size: 12px;\n            color: #9b9b9b;\n\n            &:hover {\n              color: #636363;\n              cursor: pointer;\n            }\n          }\n        }\n      }\n    }\n\n    .empty-toplist-outer {\n      width: 100%;\n\n      .empty-toplist {\n        padding: 120px 0;\n        width: 100%;\n        box-sizing: border-box;\n        display: flex;\n        justify-content: center;\n      }\n    }\n  }\n`;\n","import React, { memo, FC, ReactElement, useEffect, useState } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { Skeleton, Image, Spin } from 'antd';\nimport { ToplistWrapper } from './style';\nimport { addToplistPlayCount, getOfficial, getToplistDetail } from '../../../../network/toplist/toplist';\nimport { IToplist } from '../../../../constant/toplist';\nimport { ISong } from '../../../../constant/song';\nimport HotToplist from './childCpn/hotToplist';\nimport { changeSongDetailAction } from '../../../../components/content/playCoin/store/actionCreators';\nimport placeholder from '../../../../assets/img/holder/placeholder.png';\nimport { IArtist } from '../../../../constant/artist';\n\ninterface IDetail extends IToplist {\n  songs: ISong[];\n}\n\nconst Toplist: FC<RouteComponentProps> = (props): ReactElement => {\n  const [official, setOfficial] = useState<IToplist[]>([]);\n  const [detail, setDetail] = useState<IDetail[]>([]);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    getOfficial<IToplist[]>().then((data) => {\n      setOfficial(data);\n      const promise = official.map((item, index) => {\n        return getToplistDetail<IDetail>(item.id);\n      });\n      if (promise.length) {\n        Promise.all(promise).then((data) => {\n          if (data.length) {\n            setDetail(data);\n          }\n        });\n      }\n    });\n  }, [official.length]);\n  const toplistRouter = (item: IToplist, index: number): void => {\n    props.history.push({\n      pathname: '/Home/toplistDetail',\n      state: {\n        id: item.id,\n        name: item.name\n      }\n    });\n  };\n  const playSong = (item: IToplist, it: ISong) => {\n    dispatch(changeSongDetailAction(it.id));\n    addToplistPlayCount(item.id)\n      .then(() => {})\n      .catch(() => {});\n  };\n  const artistRouter = (item: IArtist) => {\n    if (item) {\n      props.history.push({\n        pathname: '/Home/artistDetail',\n        state: {\n          id: item.id\n        }\n      });\n    }\n  };\n  return (\n    <ToplistWrapper className=\"center-content\">\n      <ul className=\"toplist\">\n        {official &&\n          official.length !== 0 &&\n          official.map((item, index) => {\n            return (\n              <li key={item.id}>\n                <div className=\"img-container\" onClick={(e) => toplistRouter(item, index)}>\n                  <Image\n                    width={170}\n                    height={170}\n                    src={item.coverUrl}\n                    preview={false}\n                    fallback={placeholder}\n                    placeholder={<Image preview={false} src={placeholder} width={170} height={170} />}\n                    onClick={(e) => toplistRouter(item, index)}\n                  />\n                </div>\n                <ul className=\"toplist-song-list\">\n                  {\n                    <Skeleton\n                      active={true}\n                      loading={\n                        !detail ||\n                        detail.length === 0 ||\n                        !detail[index] ||\n                        !detail[index].songs ||\n                        detail[index].songs.length === 0\n                      }\n                    />\n                  }\n                  {detail[index] &&\n                    detail[index].songs &&\n                    detail[index].songs.length !== 0 &&\n                    detail[index].songs.slice(0, 5).map((it, index) => {\n                      return (\n                        <li key={it.id}>\n                          <div className=\"song-name-container\">\n                            <div className=\"index\">{index + 1}</div>\n                            {item.name === '飙升榜' && (\n                              <div className=\"up\">\n                                <i className=\"iconfont icon-data-arrow-up\"> </i>\n                                <span>{it.diff}</span>\n                              </div>\n                            )}\n                            <div className=\"song-name-vip-mv\" onClick={(e) => playSong(item, it)}>\n                              <div\n                                className={`song-name text-nowrap ${item.name === '飙升榜' ? 'top' : ''}`}\n                                title={it.name}\n                              >\n                                {it.name}\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"artist-name\" onClick={(e) => artistRouter(it.artist)}>\n                            {it.artist?.name}\n                          </div>\n                        </li>\n                      );\n                    })}\n                </ul>\n              </li>\n            );\n          })}\n        {official && official.length < 1 && (\n          <div className=\"empty-toplist-outer\">\n            <div className=\"empty-toplist\">\n              <Spin size={'large'} tip={'音乐加载中...'} spinning={official.length < 1} />\n            </div>\n          </div>\n        )}\n      </ul>\n      {/*<HotToplist />*/}\n    </ToplistWrapper>\n  );\n};\nexport default withRouter(memo(Toplist));\n","import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\nimport { HOST_NAME } from '../config';\nimport store from '../store';\nimport { changeUserMsg, logoutAction } from '../views/Login/store/actionCreators';\nimport { createBrowserHistory } from 'history';\n\nfunction request<T>(config: AxiosRequestConfig) {\n  const instance: AxiosInstance = axios.create({\n    baseURL: HOST_NAME,\n    timeout: 15000\n  });\n  instance.interceptors.request.use(\n    (config) => {\n      return config;\n    },\n    (err) => {\n      console.log(err);\n      return err;\n    }\n  );\n  instance.interceptors.response.use(\n    (res) => {\n      return res.data;\n    },\n    (err) => {\n      if (err.response) {\n        const { status, data } = err.response;\n        if (status * 1 === 403 && data.message === '请登录') {\n          // @ts-ignore\n          store.dispatch(logoutAction());\n          store.dispatch(\n            changeUserMsg({\n              token: '',\n              userName: '',\n              userId: '',\n              avatarUrl: '',\n              createTime: '',\n              updateTime: '',\n              manage: -1,\n              auth: -1\n            })\n          );\n          createBrowserHistory().push({\n            pathname: '/Login'\n          });\n        } else {\n          throw err;\n        }\n      }\n    }\n  );\n  return instance.request<any, T>(config);\n}\n\nexport default request;\n","import { message } from 'antd';\nimport { login } from '../../../network/login';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { getUserDetail } from '../../../network/user';\nimport { ILoginUserAction } from './type';\nimport { IUserDetail, IUserMsg } from '../../../constant/store/login';\n\nexport function changeUserMsg(res: IUserMsg): ILoginUserAction {\n  return {\n    type: 'changeUserMsg',\n    userMsg: res\n  };\n}\n\nfunction changeLoginType(res: number): ILoginUserAction {\n  return {\n    type: 'changeLoginType',\n    loginType: res\n  };\n}\n\nfunction changeUserDetail(res: IUserDetail): ILoginUserAction {\n  return {\n    type: 'changeUserDetail',\n    userDetail: res\n  };\n}\n\nfunction deleteUserDetail(): ILoginUserAction {\n  return {\n    type: 'changeUserDetail',\n    userDetail: {\n      userId: '',\n      userName: '',\n      avatarUrl: '',\n      subscriber: [],\n      thumb: [],\n      follow: [{ userId: '' }],\n      love: [{ songId: '' }]\n    }\n  };\n}\n\nexport function changeUserDetailAction() {\n  return (dispatch: any) => {\n    getUserDetail().then((data: any) => {\n      const { love, follow } = data;\n      if (!love) {\n        data.love = [];\n      }\n      if (!follow) {\n        data.follow = [];\n      }\n      window.localStorage.setItem('userDetail', JSON.stringify(data));\n      dispatch(changeUserDetail(data));\n    });\n  };\n}\n\nexport function loginAction(userName: string, password: string, props: RouteComponentProps) {\n  return async (dispatch: any) => {\n    try {\n      const data: any = await login(userName, password);\n      if (data) {\n        await dispatch(changeUserMsg(data));\n        await dispatch(changeLoginType(1));\n        window.localStorage.setItem('userMsg', JSON.stringify(data));\n        window.localStorage.setItem('loginType', '1');\n        await dispatch(changeUserDetailAction());\n        props.history.push({\n          pathname: '/Home'\n        });\n      }\n    } catch (e) {\n      console.log(e);\n      message.warning({\n        content: '用户名或者密码错误',\n        style: {\n          fontSize: '20px',\n          marginTop: '5vh'\n        }\n      });\n    }\n  };\n}\n\n//退出登录\nexport function logoutAction() {\n  return (dispatch: any) => {\n    window.localStorage.clear();\n    dispatch(changeLoginType(0));\n    dispatch(\n      changeUserMsg({\n        token: '',\n        userName: '',\n        userId: '',\n        avatarUrl: '',\n        createTime: '',\n        updateTime: '',\n        manage: -1,\n        auth: -1\n      })\n    );\n    dispatch(deleteUserDetail());\n  };\n}\n","import request from '../request';\nimport store from '../../store/index';\n\n//用户喜欢歌曲\nexport function setUserFavorite(id: string) {\n  return request({\n    url: '/user/favorite',\n    method: 'post',\n    data: {\n      id\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取用户喜欢歌曲\nexport function getUserFavorite(offset: number, limit: number) {\n  return request({\n    url: '/user/favorite',\n    params: {\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//取消用户喜欢\nexport function cancelFavorite(songId: string) {\n  return request({\n    url: '/user/favorite/cancel',\n    method: 'post',\n    data: {\n      songId: songId\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取用户收藏\nexport function getUserSub(url: string, offset: number, limit: number) {\n  return request({\n    url: `/sub/user/${url}`,\n    params: {\n      offset,\n      limit\n    },\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//获取当前登录用户详情\nexport function getUserDetail() {\n  return request({\n    url: '/user/detail',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token\n    }\n  });\n}\n\n//上传用户头像\nexport function uploadAvatar(formData: FormData) {\n  return request({\n    url: '/user/upload/avatar',\n    method: 'post',\n    headers: {\n      // @ts-ignore\n      authorization: store.getState().getIn(['loginReducer', 'login', 'userMsg']).token,\n      'Content-Type': 'multipart/form-data'\n    },\n    data: formData\n  });\n}\n"],"sourceRoot":""}